# Semantic Versioning API

Quite simple, but powerful and scalable idea to manage different versions of API in a single API Gateway endpoint and
ECS Fargate. The idea is to use API Gateway to route requests to different ports of Network Load Balancer that forwards
requests to the corresponding Fargate service.

![Diagram](https://markdown-inline-svg.vitalibo.click/svg?source=https://raw.githubusercontent.com/vitalibo/cloudformation-library/main/semver-api/readme.md&name=diagram.svg)

<details> 
<summary>SVG code</summary>

```
@diagram.svg
<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="716px" height="521px" viewBox="-0.5 -0.5 716 521" content="&lt;mxfile host=&quot;app.diagrams.net&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Safari/605.1.15&quot; version=&quot;24.8.0&quot;&gt;&#10;  &lt;diagram name=&quot;Page-1&quot; id=&quot;DqvF7za6Bm7p7WUtd4A0&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;1434&quot; dy=&quot;924&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;827&quot; pageHeight=&quot;1169&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-36&quot; value=&quot;Private subnet&quot; style=&quot;points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#00A4A6;fillColor=#E6F6F7;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=0;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;460&quot; y=&quot;240&quot; width=&quot;310&quot; height=&quot;440&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-1&quot; value=&quot;Users&quot; style=&quot;sketch=0;outlineConnect=0;gradientColor=none;fontColor=#545B64;strokeColor=none;fillColor=#879196;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.illustration_users;pointerEvents=1&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;88.5&quot; y=&quot;548&quot; width=&quot;73&quot; height=&quot;73&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-2&quot; value=&quot;Devices&quot; style=&quot;sketch=0;outlineConnect=0;gradientColor=none;fontColor=#545B64;strokeColor=none;fillColor=#879196;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.illustration_devices;pointerEvents=1&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;75&quot; y=&quot;270&quot; width=&quot;100&quot; height=&quot;73&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-4&quot; value=&quot;API Gateway&quot; style=&quot;sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;295&quot; y=&quot;407.5&quot; width=&quot;78&quot; height=&quot;78&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-5&quot; value=&quot;Fargate&amp;lt;div&amp;gt;Service v1.2&amp;lt;/div&amp;gt;&quot; style=&quot;sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.fargate;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;670&quot; y=&quot;407.5&quot; width=&quot;78&quot; height=&quot;78&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-30&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;4K5bZuvCH6rgP7y_3ihN-6&quot; target=&quot;4K5bZuvCH6rgP7y_3ihN-5&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-34&quot; value=&quot;:8002&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;4K5bZuvCH6rgP7y_3ihN-30&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.5202&quot; y=&quot;1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4&quot; y=&quot;-7&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-6&quot; value=&quot;Network&amp;lt;div&amp;gt;Load Balancer&amp;lt;/div&amp;gt;&quot; style=&quot;sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elastic_load_balancing;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;485&quot; y=&quot;407.5&quot; width=&quot;78&quot; height=&quot;78&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-14&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; target=&quot;4K5bZuvCH6rgP7y_3ihN-4&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;171&quot; y=&quot;446&quot; as=&quot;sourcePoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-24&quot; value=&quot;api/v2.0&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;4K5bZuvCH6rgP7y_3ihN-14&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.4521&quot; y=&quot;1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-1&quot; y=&quot;-7&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-7&quot; value=&quot;Desktop&quot; style=&quot;sketch=0;outlineConnect=0;gradientColor=none;fontColor=#545B64;strokeColor=none;fillColor=#879196;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.illustration_desktop;pointerEvents=1&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;84.89&quot; y=&quot;410&quot; width=&quot;80.22&quot; height=&quot;73&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-9&quot; value=&quot;Fargate&amp;lt;div&amp;gt;Service v2.0&amp;lt;/div&amp;gt;&quot; style=&quot;sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.fargate;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;670&quot; y=&quot;548&quot; width=&quot;78&quot; height=&quot;78&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-13&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; target=&quot;4K5bZuvCH6rgP7y_3ihN-4&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;180&quot; y=&quot;310&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;190&quot; y=&quot;310&quot; /&gt;&#10;              &lt;mxPoint x=&quot;240&quot; y=&quot;310&quot; /&gt;&#10;              &lt;mxPoint x=&quot;240&quot; y=&quot;427&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-25&quot; value=&quot;api/v1.2&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;4K5bZuvCH6rgP7y_3ihN-13&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.8172&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;2&quot; y=&quot;-8&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-15&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; target=&quot;4K5bZuvCH6rgP7y_3ihN-4&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;170&quot; y=&quot;585&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;240&quot; y=&quot;585&quot; /&gt;&#10;              &lt;mxPoint x=&quot;240&quot; y=&quot;466&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-19&quot; value=&quot;api/latest&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;4K5bZuvCH6rgP7y_3ihN-15&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.7553&quot; y=&quot;2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;5&quot; y=&quot;-6&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-16&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;4K5bZuvCH6rgP7y_3ihN-4&quot; target=&quot;4K5bZuvCH6rgP7y_3ihN-6&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-26&quot; value=&quot;vpc link&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;377&quot; y=&quot;423&quot; width=&quot;60&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-27&quot; value=&quot;Fargate&amp;lt;div&amp;gt;Service v1.1&amp;lt;/div&amp;gt;&quot; style=&quot;sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.fargate;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;670&quot; y=&quot;267.5&quot; width=&quot;78&quot; height=&quot;78&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-31&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;4K5bZuvCH6rgP7y_3ihN-6&quot; target=&quot;4K5bZuvCH6rgP7y_3ihN-9&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-35&quot; value=&quot;:8003&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;4K5bZuvCH6rgP7y_3ihN-31&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.807&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-6&quot; y=&quot;-9&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-32&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;4K5bZuvCH6rgP7y_3ihN-6&quot; target=&quot;4K5bZuvCH6rgP7y_3ihN-27&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-33&quot; value=&quot;:8001&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;4K5bZuvCH6rgP7y_3ihN-32&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.7056&quot; y=&quot;-2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;4&quot; y=&quot;-11&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-37&quot; value=&quot;VPC&quot; style=&quot;points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_vpc2;strokeColor=#8C4FFF;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#AAB7B8;dashed=0;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;440&quot; y=&quot;210&quot; width=&quot;340&quot; height=&quot;480&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4K5bZuvCH6rgP7y_3ihN-38&quot; value=&quot;AWS Cloud&quot; style=&quot;points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_aws_cloud_alt;strokeColor=#232F3E;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#232F3E;dashed=0;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;269&quot; y=&quot;180&quot; width=&quot;521&quot; height=&quot;520&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;"><defs/><g><g data-cell-id="0"><g data-cell-id="1"><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-36"><g><path d="M 385 60 L 695 60 L 695 500 L 385 500 Z" fill="#e6f6f7" stroke="none" pointer-events="none"/><path d="M 385 60 L 410 60 L 410 85 L 385 85 Z M 397.52 63.21 C 396.4 63.21 395.31 63.63 394.49 64.39 C 393.67 65.11 393.2 66.15 393.2 67.24 L 393.2 69.78 L 390.89 69.78 C 390.8 69.78 390.7 69.82 390.64 69.89 C 390.57 69.95 390.54 70.04 390.54 70.14 L 390.54 81.43 C 390.54 81.63 390.7 81.79 390.89 81.79 L 404.11 81.79 C 404.3 81.79 404.46 81.63 404.46 81.43 L 404.46 70.15 C 404.47 70.06 404.43 69.97 404.36 69.9 C 404.3 69.83 404.21 69.79 404.11 69.79 L 401.81 69.79 L 401.81 67.29 C 401.8 66.21 401.35 65.18 400.56 64.44 C 399.74 63.65 398.65 63.22 397.52 63.21 Z M 397.51 63.93 C 398.46 63.92 399.37 64.28 400.06 64.93 C 400.72 65.54 401.1 66.4 401.1 67.29 L 401.1 69.79 L 393.88 69.79 L 393.89 67.26 C 393.9 66.36 394.28 65.51 394.95 64.91 C 395.65 64.27 396.57 63.92 397.51 63.93 Z M 391.24 70.5 L 403.76 70.5 L 403.75 81.07 L 391.24 81.07 Z M 397.51 72.74 C 396.48 72.73 395.61 73.51 395.51 74.53 C 395.42 75.56 396.13 76.48 397.14 76.66 L 397.14 79.44 L 397.86 79.44 L 397.86 76.66 C 398.79 76.49 399.47 75.67 399.48 74.72 C 399.48 73.63 398.6 72.75 397.51 72.74 Z M 397.39 73.45 C 397.43 73.45 397.47 73.45 397.51 73.46 C 397.84 73.46 398.16 73.59 398.4 73.83 C 398.64 74.07 398.77 74.39 398.76 74.72 C 398.77 75.06 398.64 75.38 398.4 75.61 C 398.16 75.85 397.84 75.98 397.51 75.98 C 397.04 76.02 396.6 75.8 396.34 75.42 C 396.08 75.03 396.06 74.53 396.28 74.12 C 396.5 73.71 396.93 73.46 397.39 73.45 Z" fill="#00a4a6" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 67px; margin-left: 417px;"><div data-drawio-colors="color: #147EBA; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(20, 126, 186); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Private subnet</div></div></div></foreignObject><text x="417" y="79" fill="#147EBA" font-family="&quot;Helvetica&quot;" font-size="12px">Private subnet</text></switch></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-1"><g><rect x="13.5" y="368" width="73" height="73" fill="none" stroke="none" pointer-events="all"/><path d="M 67.78 369.68 C 63.35 369.68 59.78 373.26 59.78 377.69 C 59.78 382.12 63.35 385.69 67.78 385.69 C 72.21 385.69 75.78 382.12 75.78 377.69 C 75.78 373.26 72.21 369.68 67.78 369.68 Z M 66.41 403.67 L 84.71 403.67 C 84.64 398.64 83.94 396.08 81.17 391.93 C 79.23 389.42 75.68 387.18 72.16 386.19 C 70.83 386.89 69.38 387.37 67.78 387.37 C 66.17 387.37 64.71 386.88 63.37 386.18 L 63.37 386.18 C 61.45 386.68 59.71 387.46 58.16 388.48 L 57.22 387.15 C 58.57 386.27 60.05 385.55 61.64 385.01 C 59.52 383.23 58.09 380.66 58.09 377.69 C 58.09 372.35 62.44 368 67.78 368 L 67.78 368 C 73.12 368 77.47 372.35 77.47 377.69 C 77.47 380.67 76.04 383.23 73.91 385.01 C 77.33 386.22 80.54 388.34 82.52 390.93 C 82.53 390.94 82.54 390.95 82.55 390.97 C 85.62 395.54 86.43 398.69 86.43 404.51 C 86.43 404.97 86.05 405.35 85.59 405.35 L 66.41 405.35 Z M 32.22 369.68 C 36.65 369.68 40.22 373.26 40.22 377.69 C 40.22 382.12 36.65 385.69 32.22 385.69 C 27.79 385.69 24.22 382.12 24.22 377.69 C 24.22 373.26 27.79 369.68 32.22 369.68 Z M 33.59 403.67 L 15.29 403.67 C 15.36 398.64 16.06 396.08 18.83 391.93 C 20.77 389.42 24.32 387.18 27.84 386.19 C 29.17 386.89 30.62 387.37 32.22 387.37 C 33.83 387.37 35.29 386.88 36.63 386.18 L 36.63 386.18 C 38.55 386.68 40.29 387.46 41.84 388.48 L 42.78 387.15 C 41.43 386.27 39.95 385.55 38.36 385.01 C 40.48 383.23 41.91 380.66 41.91 377.69 C 41.91 372.35 37.56 368 32.22 368 L 32.22 368 C 26.88 368 22.53 372.35 22.53 377.69 C 22.53 380.67 23.96 383.23 26.09 385.01 C 22.67 386.22 19.46 388.34 17.48 390.93 C 17.47 390.94 17.46 390.95 17.45 390.97 C 14.38 395.54 13.57 398.69 13.57 404.51 C 13.57 404.97 13.95 405.35 14.41 405.35 L 33.59 405.35 Z M 49.87 388.55 C 42.44 388.55 36.4 394.59 36.4 402.01 C 36.4 406.31 38.46 410.09 41.59 412.56 C 36.68 414.24 32 417.28 29.18 420.97 C 29.17 420.99 29.15 421 29.14 421.02 C 24.8 427.48 23.68 431.84 23.68 440.07 C 23.68 440.57 24.09 440.98 24.6 440.98 L 75.32 441 C 75.82 441 76.23 440.59 76.23 440.09 C 76.23 434.39 75.76 428.41 71.9 422.6 C 71.9 422.6 71.89 422.59 71.89 422.58 C 68.62 417.98 63.93 414.42 58.15 412.55 C 61.28 410.08 63.33 406.3 63.33 402.01 C 63.33 394.59 57.29 388.55 49.87 388.55 Z M 49.87 390.38 C 56.3 390.38 61.5 395.58 61.5 402.01 C 61.5 408.45 56.3 413.65 49.87 413.65 C 47.65 413.65 45.61 413 43.85 411.94 L 43.82 411.81 C 43.78 411.82 43.74 411.84 43.7 411.85 C 40.42 409.79 38.23 406.18 38.23 402.01 C 38.23 395.58 43.43 390.38 49.87 390.38 Z M 56.23 413.8 C 62.29 415.39 67.07 418.96 70.39 423.63 C 73.76 428.72 74.32 433.9 74.38 439.17 L 25.55 439.15 C 25.63 431.79 26.63 428.06 30.64 422.07 C 33.43 418.44 38.49 415.24 43.54 413.83 C 45.44 414.85 47.57 415.48 49.87 415.48 C 52.18 415.48 54.33 414.84 56.23 413.8 Z" fill="#879196" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 448px; margin-left: 50px;"><div data-drawio-colors="color: #545B64; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(84, 91, 100); line-height: 1.2; pointer-events: all; white-space: nowrap;">Users</div></div></div></foreignObject><text x="50" y="460" fill="#545B64" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Users</text></switch></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-2"><g><rect x="0" y="90" width="100" height="73" fill="none" stroke="none" pointer-events="all"/><path d="M 52.89 90.13 C 51.26 90.13 49.92 91.47 49.92 93.1 L 49.92 113.82 L 51.92 113.82 L 51.92 93.1 C 51.92 92.54 52.33 92.13 52.89 92.13 L 88.86 92.13 C 89.41 92.13 89.83 92.54 89.83 93.1 L 89.83 121.07 L 91.83 121.07 L 91.83 93.1 C 91.83 91.47 90.48 90.13 88.86 90.13 Z M 56.11 93.76 C 54.68 93.76 53.5 94.94 53.5 96.36 L 53.5 113.82 L 55.5 113.82 L 55.5 96.36 C 55.5 96.01 55.75 95.76 56.11 95.76 L 85.55 95.76 C 85.9 95.76 86.15 96.01 86.15 96.36 L 86.15 121.07 L 88.15 121.07 L 88.15 96.36 C 88.15 94.94 86.97 93.76 85.55 93.76 Z M 7.09 115.54 C 5.62 115.54 4.58 116.69 4.58 118.21 L 4.58 156.32 L 1.16 156.32 C 0.56 156.32 0.27 156.75 0.15 156.99 C 0.03 157.23 0 157.44 0 157.66 L 0 160.3 C 0 161.64 2.94 162.85 4.56 162.85 L 62.08 162.85 C 63.51 162.85 66.45 161.72 66.45 160.26 L 66.45 157.66 C 66.45 157.44 66.42 157.23 66.3 156.99 C 66.18 156.75 65.88 156.32 65.28 156.32 L 61.86 156.32 L 61.86 118.01 C 61.86 116.64 60.79 115.57 59.48 115.54 Z M 6.57 117.53 L 59.86 117.53 L 59.86 156.32 L 6.57 156.32 Z M 10.66 119.15 C 9.33 119.15 8.3 120.18 8.3 121.48 L 8.3 151.9 C 8.3 154.33 9.81 154.8 10.84 154.83 L 55.26 154.83 C 57.34 154.83 58.43 152.9 58.43 151.55 L 58.43 122.17 C 58.43 120.84 57.46 119.15 55.15 119.15 Z M 10.3 121.14 L 56.43 121.14 L 56.43 152.83 L 10.3 152.83 Z M 83.37 122.83 C 80.95 122.83 78.98 124.8 78.98 127.21 L 78.98 159.59 C 78.98 161.68 80.94 162.87 83.35 162.87 L 95.86 162.87 C 98.28 162.87 100 161.36 100 159.35 L 100 127.21 C 100 124.8 98.03 122.83 95.61 122.83 Z M 83.37 124.82 L 95.61 124.82 C 96.95 124.82 98 125.87 98 127.21 L 98 130.09 L 80.98 130.09 L 80.98 127.21 C 80.98 125.87 82.03 124.82 83.37 124.82 Z M 88.96 126.45 L 88.96 128.44 L 93.54 128.44 L 93.54 126.45 Z M 87.19 126.47 C 86.66 126.47 86.23 126.9 86.23 127.43 C 86.23 127.96 86.66 128.39 87.19 128.39 C 87.72 128.39 88.14 127.96 88.14 127.43 C 88.15 126.9 87.72 126.47 87.19 126.47 Z M 80.98 132.09 L 98 132.09 L 98 156.32 L 80.98 156.32 Z M 63.58 135.57 L 63.58 137.56 L 77.15 137.56 L 77.2 135.57 Z M 70.45 138.14 C 68.64 138.14 67.15 139.63 67.15 141.44 C 67.15 143.25 68.64 144.74 70.45 144.74 C 72.26 144.74 73.75 143.25 73.75 141.44 C 73.75 139.63 72.26 138.14 70.45 138.14 Z M 70.45 140.14 C 71.18 140.14 71.76 140.71 71.76 141.44 C 71.76 142.17 71.18 142.75 70.45 142.75 C 69.72 142.75 69.14 142.17 69.14 141.44 C 69.14 140.71 69.72 140.14 70.45 140.14 Z M 63.58 145.44 L 63.58 147.44 L 77.21 147.44 L 77.21 145.44 Z M 2 158.32 L 64.45 158.32 L 64.45 159.8 C 64.45 160.41 63.64 160.85 62.33 160.85 L 4.29 160.85 C 3.06 160.85 2 160.4 2 159.79 Z M 80.98 158.32 L 98 158.32 L 98 159.35 C 98 160.69 97.2 160.87 95.86 160.87 L 83.35 160.87 C 82.01 160.87 80.98 160.58 80.98 159.59 Z" fill="#879196" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 170px; margin-left: 50px;"><div data-drawio-colors="color: #545B64; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(84, 91, 100); line-height: 1.2; pointer-events: all; white-space: nowrap;">Devices</div></div></div></foreignObject><text x="50" y="182" fill="#545B64" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Devices</text></switch></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-4"><g><path d="M 220 227.5 L 298 227.5 L 298 305.5 L 220 305.5 Z" fill="#e7157b" stroke="none" pointer-events="all"/><path d="M 252.39 283.93 L 255.66 283.93 L 255.66 281.69 L 252.39 281.69 Z M 257.89 283.93 L 261.23 283.93 L 261.23 281.69 L 257.89 281.69 Z M 244.53 238.28 L 230.05 245.47 L 230.05 290.12 L 244.53 295.02 Z M 246.75 252.49 L 246.75 281.69 L 250.09 281.69 L 250.09 283.93 L 246.75 283.93 L 246.75 296.58 C 246.75 296.94 246.58 297.28 246.29 297.49 C 246.1 297.63 245.87 297.7 245.64 297.7 C 245.52 297.7 245.4 297.68 245.29 297.64 L 228.59 292 C 228.13 291.84 227.83 291.41 227.83 290.93 L 227.83 244.77 C 227.83 244.34 228.07 243.95 228.45 243.76 L 245.15 235.47 C 245.49 235.3 245.9 235.32 246.23 235.53 C 246.55 235.73 246.75 236.09 246.75 236.48 L 246.75 250.25 L 250.09 250.25 L 250.09 252.49 Z M 263.45 283.93 L 266.79 283.93 L 266.79 281.69 L 263.45 281.69 Z M 263.53 252.49 L 266.79 252.49 L 266.79 250.25 L 263.53 250.25 Z M 257.96 252.49 L 261.23 252.49 L 261.23 250.25 L 257.96 250.25 Z M 252.39 252.49 L 255.66 252.49 L 255.66 250.25 L 252.39 250.25 Z M 287.95 245.47 L 273.47 238.28 L 273.47 295.02 L 287.95 290.12 Z M 290.17 290.93 C 290.17 291.41 289.87 291.84 289.41 292 L 272.71 297.64 C 272.6 297.68 272.48 297.7 272.36 297.7 C 272.13 297.7 271.9 297.63 271.71 297.49 C 271.42 297.28 271.25 296.94 271.25 296.58 L 271.25 283.93 L 269.09 283.93 L 269.09 281.69 L 271.25 281.69 L 271.25 252.49 L 269.09 252.49 L 269.09 250.25 L 271.25 250.25 L 271.25 236.48 C 271.25 236.09 271.45 235.73 271.77 235.53 C 272.1 235.32 272.51 235.3 272.85 235.47 L 289.55 243.76 C 289.93 243.95 290.17 244.34 290.17 244.77 Z M 262.27 259.63 L 260.19 258.83 L 254.62 273.42 L 256.7 274.23 Z M 269.81 266.76 C 270.24 266.32 270.24 265.61 269.81 265.17 L 265.35 260.68 L 263.78 262.27 L 267.45 265.97 L 263.78 269.66 L 265.35 271.25 Z M 252.65 271.25 L 248.19 266.76 C 247.76 266.32 247.76 265.61 248.19 265.17 L 252.65 260.68 L 254.22 262.27 L 250.55 265.97 L 254.22 269.66 Z" fill="#ffffff" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 313px; margin-left: 259px;"><div data-drawio-colors="color: #232F3E; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(35, 47, 62); line-height: 1.2; pointer-events: all; white-space: nowrap;">API Gateway</div></div></div></foreignObject><text x="259" y="325" fill="#232F3E" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">API Gateway</text></switch></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-5"><g><path d="M 595 227.5 L 673 227.5 L 673 305.5 L 595 305.5 Z" fill="#ed7100" stroke="none" pointer-events="all"/><path d="M 648.68 286.11 L 648.68 280.18 L 652.35 278.72 L 652.35 284.64 Z M 642.56 278.72 L 646.23 280.18 L 646.23 286.11 L 642.56 284.64 Z M 635.22 294.67 L 635.22 288.74 L 638.89 287.28 L 638.89 293.2 Z M 629.11 287.28 L 632.78 288.74 L 632.78 294.67 L 629.11 293.2 Z M 621.77 286.11 L 621.77 280.18 L 625.44 278.72 L 625.44 284.64 Z M 615.65 278.72 L 619.32 280.18 L 619.32 286.11 L 615.65 284.64 Z M 620.55 275.78 L 623.37 276.91 L 620.55 278.04 L 617.72 276.91 Z M 634 284.34 L 636.82 285.47 L 634 286.6 L 631.18 285.47 Z M 647.45 275.78 L 650.28 276.91 L 647.45 278.04 L 644.63 276.91 Z M 654.02 275.77 L 647.91 273.33 C 647.62 273.21 647.29 273.21 647 273.33 L 640.88 275.77 C 640.42 275.96 640.12 276.41 640.12 276.91 L 640.12 284.15 L 634.45 281.89 C 634.16 281.77 633.84 281.77 633.55 281.89 L 627.88 284.15 L 627.88 276.91 C 627.88 276.41 627.58 275.96 627.12 275.77 L 621 273.33 C 620.71 273.21 620.38 273.21 620.09 273.33 L 613.98 275.77 C 613.51 275.96 613.21 276.41 613.21 276.91 L 613.21 285.47 C 613.21 285.97 613.51 286.42 613.98 286.61 L 620.09 289.05 C 620.24 289.11 620.39 289.14 620.55 289.14 C 620.7 289.14 620.86 289.11 621 289.05 L 626.66 286.79 L 626.66 294.03 C 626.66 294.53 626.97 294.98 627.43 295.17 L 633.55 297.61 C 633.69 297.67 633.85 297.7 634 297.7 C 634.15 297.7 634.31 297.67 634.45 297.61 L 640.57 295.17 C 641.03 294.98 641.34 294.53 641.34 294.03 L 641.34 286.79 L 647 289.05 C 647.14 289.11 647.3 289.14 647.45 289.14 C 647.61 289.14 647.76 289.11 647.91 289.05 L 654.02 286.61 C 654.49 286.42 654.79 285.97 654.79 285.47 L 654.79 276.91 C 654.79 276.41 654.49 275.96 654.02 275.77 Z M 664.58 260.93 C 664.58 268.08 648.82 271.94 634 271.94 C 619.18 271.94 603.42 268.08 603.42 260.93 C 603.42 257.52 607.21 254.52 614.08 252.47 L 614.78 254.82 C 609.28 256.45 605.87 258.8 605.87 260.93 C 605.87 264.98 617.42 269.5 634 269.5 C 650.58 269.5 662.13 264.98 662.13 260.93 C 662.13 258.8 658.72 256.45 653.22 254.82 L 653.92 252.47 C 660.79 254.52 664.58 257.52 664.58 260.93 Z M 634 237.86 L 646.49 242.66 L 634 247.47 L 621.51 242.66 Z M 646.94 262.04 C 644.63 263.07 640.76 264.27 635.22 264.44 L 635.22 249.62 L 648.68 244.45 L 648.68 259.36 C 648.68 260.52 648 261.57 646.94 262.04 Z M 619.32 259.36 L 619.32 244.45 L 632.78 249.62 L 632.78 264.44 C 627.24 264.27 623.37 263.07 621.06 262.04 C 620 261.57 619.32 260.52 619.32 259.36 Z M 620.06 264.27 C 622.75 265.48 627.36 266.91 634 266.91 C 640.64 266.91 645.25 265.48 647.93 264.27 C 649.87 263.42 651.12 261.49 651.12 259.36 L 651.12 242.66 C 651.12 242.16 650.81 241.7 650.34 241.52 L 634.44 235.41 C 634.16 235.3 633.84 235.3 633.56 235.41 L 617.66 241.52 C 617.19 241.7 616.88 242.16 616.88 242.66 L 616.88 259.36 C 616.88 261.49 618.13 263.42 620.06 264.27 Z" fill="#ffffff" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 313px; margin-left: 634px;"><div data-drawio-colors="color: #232F3E; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(35, 47, 62); line-height: 1.2; pointer-events: all; white-space: nowrap;">Fargate<div>Service v1.2</div></div></div></div></foreignObject><text x="634" y="325" fill="#232F3E" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Fargate...</text></switch></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-30"><g><path d="M 488 266.5 L 588.63 266.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 593.88 266.5 L 586.88 270 L 588.63 266.5 L 586.88 263 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-34"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 259px; margin-left: 566px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">:8002</div></div></div></foreignObject><text x="566" y="262" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">:8002</text></switch></g></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-6"><g><path d="M 410 227.5 L 488 227.5 L 488 305.5 L 410 305.5 Z" fill="#ed7100" stroke="none" pointer-events="all"/><path d="M 436.52 282.72 C 427.57 282.72 420.3 275.45 420.3 266.5 C 420.3 257.55 427.57 250.28 436.52 250.28 C 445.47 250.28 452.74 257.55 452.74 266.5 C 452.74 275.45 445.47 282.72 436.52 282.72 M 473.96 290.21 C 473.96 292.97 471.72 295.2 468.97 295.2 C 466.21 295.2 463.98 292.97 463.98 290.21 C 463.98 287.46 466.21 285.22 468.97 285.22 C 471.72 285.22 473.96 287.46 473.96 290.21 M 468.97 237.8 C 471.72 237.8 473.96 240.03 473.96 242.79 C 473.96 245.54 471.72 247.78 468.97 247.78 C 466.21 247.78 463.98 245.54 463.98 242.79 C 463.98 240.03 466.21 237.8 468.97 237.8 M 472.71 261.51 C 475.47 261.51 477.7 263.75 477.7 266.5 C 477.7 269.25 475.47 271.49 472.71 271.49 C 469.96 271.49 467.72 269.25 467.72 266.5 C 467.72 263.75 469.96 261.51 472.71 261.51 M 455.18 267.75 L 465.34 267.75 C 465.93 271.28 469.01 273.99 472.71 273.99 C 476.84 273.99 480.2 270.63 480.2 266.5 C 480.2 262.37 476.84 259.01 472.71 259.01 C 469.01 259.01 465.93 261.72 465.34 265.25 L 455.18 265.25 C 455.02 262.88 454.42 260.63 453.46 258.58 L 464.53 248.81 C 465.78 249.73 467.31 250.28 468.97 250.28 C 473.1 250.28 476.46 246.92 476.46 242.79 C 476.46 238.66 473.1 235.3 468.97 235.3 C 464.84 235.3 461.48 238.66 461.48 242.79 C 461.48 244.36 461.97 245.81 462.79 247.01 L 452.22 256.34 C 448.88 251.2 443.1 247.78 436.52 247.78 C 426.2 247.78 417.8 256.18 417.8 266.5 C 417.8 276.82 426.2 285.22 436.52 285.22 C 443.1 285.22 448.88 281.8 452.22 276.66 L 462.79 285.99 C 461.97 287.19 461.48 288.64 461.48 290.21 C 461.48 294.34 464.84 297.7 468.97 297.7 C 473.1 297.7 476.46 294.34 476.46 290.21 C 476.46 286.08 473.1 282.72 468.97 282.72 C 467.31 282.72 465.78 283.27 464.53 284.19 L 453.46 274.42 C 454.42 272.37 455.02 270.12 455.18 267.75" fill="#ffffff" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 313px; margin-left: 449px;"><div data-drawio-colors="color: #232F3E; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(35, 47, 62); line-height: 1.2; pointer-events: all; white-space: nowrap;">Network<div>Load Balancer</div></div></div></div></foreignObject><text x="449" y="325" fill="#232F3E" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Network...</text></switch></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-14"><g><path d="M 96 266 L 213.63 266" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 218.88 266 L 211.88 269.5 L 213.63 266 L 211.88 262.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-24"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 259px; margin-left: 130px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">api/v2.0</div></div></div></foreignObject><text x="130" y="262" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">api/v2.0</text></switch></g></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-7"><g><rect x="9.89" y="230" width="80.22" height="73" fill="none" stroke="none" pointer-events="all"/><path d="M 10.83 230.05 C 10.35 230.05 10.1 230.39 10.01 230.59 C 9.91 230.78 9.89 230.95 9.89 231.13 L 9.89 287.22 C 9.89 287.4 9.91 287.57 10.01 287.77 C 10.1 287.96 10.35 288.3 10.83 288.3 L 44.6 288.3 L 44.6 296.78 L 31.86 296.78 C 31.37 296.78 31.13 297.12 31.04 297.31 C 30.94 297.51 30.92 297.68 30.92 297.86 L 30.92 301.87 C 30.92 302.05 30.94 302.22 31.04 302.41 C 31.13 302.61 31.37 302.95 31.86 302.95 L 68.16 302.95 C 68.64 302.95 68.88 302.61 68.97 302.41 C 69.07 302.22 69.09 302.05 69.09 301.87 L 69.09 297.86 C 69.09 297.68 69.07 297.51 68.97 297.31 C 68.88 297.12 68.64 296.78 68.16 296.78 L 54.54 296.78 L 54.54 288.3 L 89.17 288.3 C 89.65 288.3 89.9 287.96 89.99 287.77 C 90.09 287.57 90.11 287.4 90.11 287.22 L 90.11 231.13 C 90.11 230.95 90.09 230.78 89.99 230.59 C 89.9 230.39 89.65 230.05 89.17 230.05 Z M 11.5 231.66 L 88.5 231.66 L 88.5 277.54 L 11.5 277.54 Z M 11.5 279.15 L 88.5 279.15 L 88.5 286.69 L 11.5 286.69 Z M 50 281.37 C 49.54 281.37 49.09 281.55 48.76 281.88 C 48.43 282.21 48.24 282.66 48.24 283.13 C 48.24 283.59 48.43 284.04 48.76 284.37 C 49.09 284.7 49.54 284.89 50 284.89 C 50.47 284.89 50.92 284.7 51.25 284.37 C 51.58 284.04 51.76 283.59 51.76 283.13 C 51.76 282.66 51.58 282.21 51.25 281.88 C 50.92 281.55 50.47 281.37 50 281.37 Z M 46.21 288.3 L 52.93 288.3 L 52.93 296.78 L 46.21 296.78 Z M 32.53 298.39 L 67.48 298.39 L 67.48 301.34 L 32.53 301.34 Z" fill="#879196" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 310px; margin-left: 50px;"><div data-drawio-colors="color: #545B64; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(84, 91, 100); line-height: 1.2; pointer-events: all; white-space: nowrap;">Desktop</div></div></div></foreignObject><text x="50" y="322" fill="#545B64" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Desktop</text></switch></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-9"><g><path d="M 595 368 L 673 368 L 673 446 L 595 446 Z" fill="#ed7100" stroke="none" pointer-events="all"/><path d="M 648.68 426.61 L 648.68 420.68 L 652.35 419.22 L 652.35 425.14 Z M 642.56 419.22 L 646.23 420.68 L 646.23 426.61 L 642.56 425.14 Z M 635.22 435.17 L 635.22 429.24 L 638.89 427.78 L 638.89 433.7 Z M 629.11 427.78 L 632.78 429.24 L 632.78 435.17 L 629.11 433.7 Z M 621.77 426.61 L 621.77 420.68 L 625.44 419.22 L 625.44 425.14 Z M 615.65 419.22 L 619.32 420.68 L 619.32 426.61 L 615.65 425.14 Z M 620.55 416.28 L 623.37 417.41 L 620.55 418.54 L 617.72 417.41 Z M 634 424.84 L 636.82 425.97 L 634 427.1 L 631.18 425.97 Z M 647.45 416.28 L 650.28 417.41 L 647.45 418.54 L 644.63 417.41 Z M 654.02 416.27 L 647.91 413.83 C 647.62 413.71 647.29 413.71 647 413.83 L 640.88 416.27 C 640.42 416.46 640.12 416.91 640.12 417.41 L 640.12 424.65 L 634.45 422.39 C 634.16 422.27 633.84 422.27 633.55 422.39 L 627.88 424.65 L 627.88 417.41 C 627.88 416.91 627.58 416.46 627.12 416.27 L 621 413.83 C 620.71 413.71 620.38 413.71 620.09 413.83 L 613.98 416.27 C 613.51 416.46 613.21 416.91 613.21 417.41 L 613.21 425.97 C 613.21 426.47 613.51 426.92 613.98 427.11 L 620.09 429.55 C 620.24 429.61 620.39 429.64 620.55 429.64 C 620.7 429.64 620.86 429.61 621 429.55 L 626.66 427.29 L 626.66 434.53 C 626.66 435.03 626.97 435.48 627.43 435.67 L 633.55 438.11 C 633.69 438.17 633.85 438.2 634 438.2 C 634.15 438.2 634.31 438.17 634.45 438.11 L 640.57 435.67 C 641.03 435.48 641.34 435.03 641.34 434.53 L 641.34 427.29 L 647 429.55 C 647.14 429.61 647.3 429.64 647.45 429.64 C 647.61 429.64 647.76 429.61 647.91 429.55 L 654.02 427.11 C 654.49 426.92 654.79 426.47 654.79 425.97 L 654.79 417.41 C 654.79 416.91 654.49 416.46 654.02 416.27 Z M 664.58 401.43 C 664.58 408.58 648.82 412.44 634 412.44 C 619.18 412.44 603.42 408.58 603.42 401.43 C 603.42 398.02 607.21 395.02 614.08 392.97 L 614.78 395.32 C 609.28 396.95 605.87 399.3 605.87 401.43 C 605.87 405.48 617.42 410 634 410 C 650.58 410 662.13 405.48 662.13 401.43 C 662.13 399.3 658.72 396.95 653.22 395.32 L 653.92 392.97 C 660.79 395.02 664.58 398.02 664.58 401.43 Z M 634 378.36 L 646.49 383.16 L 634 387.97 L 621.51 383.16 Z M 646.94 402.54 C 644.63 403.57 640.76 404.77 635.22 404.94 L 635.22 390.12 L 648.68 384.95 L 648.68 399.86 C 648.68 401.02 648 402.07 646.94 402.54 Z M 619.32 399.86 L 619.32 384.95 L 632.78 390.12 L 632.78 404.94 C 627.24 404.77 623.37 403.57 621.06 402.54 C 620 402.07 619.32 401.02 619.32 399.86 Z M 620.06 404.77 C 622.75 405.98 627.36 407.41 634 407.41 C 640.64 407.41 645.25 405.98 647.93 404.77 C 649.87 403.92 651.12 401.99 651.12 399.86 L 651.12 383.16 C 651.12 382.66 650.81 382.2 650.34 382.02 L 634.44 375.91 C 634.16 375.8 633.84 375.8 633.56 375.91 L 617.66 382.02 C 617.19 382.2 616.88 382.66 616.88 383.16 L 616.88 399.86 C 616.88 401.99 618.13 403.92 620.06 404.77 Z" fill="#ffffff" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 453px; margin-left: 634px;"><div data-drawio-colors="color: #232F3E; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(35, 47, 62); line-height: 1.2; pointer-events: all; white-space: nowrap;">Fargate<div>Service v2.0</div></div></div></div></foreignObject><text x="634" y="465" fill="#232F3E" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Fargate...</text></switch></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-13"><g><path d="M 105 130 L 115 130 L 165 130 L 165 247 L 213.63 247" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 218.88 247 L 211.88 250.5 L 213.63 247 L 211.88 243.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-25"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 123px; margin-left: 129px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">api/v1.2</div></div></div></foreignObject><text x="129" y="126" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">api/v1.2</text></switch></g></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-15"><g><path d="M 95 405 L 165 405 L 165 286 L 213.63 286" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 218.88 286 L 211.88 289.5 L 213.63 286 L 211.88 282.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-19"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 398px; margin-left: 131px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">api/latest</div></div></div></foreignObject><text x="131" y="401" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">api/latest</text></switch></g></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-16"><g><path d="M 298 266.5 L 403.63 266.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 408.88 266.5 L 401.88 270 L 403.63 266.5 L 401.88 263 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-26"><g><rect x="302" y="243" width="60" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 258px; margin-left: 303px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">vpc link</div></div></div></foreignObject><text x="332" y="261" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">vpc link</text></switch></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-27"><g><path d="M 595 87.5 L 673 87.5 L 673 165.5 L 595 165.5 Z" fill="#ed7100" stroke="none" pointer-events="all"/><path d="M 648.68 146.11 L 648.68 140.18 L 652.35 138.72 L 652.35 144.64 Z M 642.56 138.72 L 646.23 140.18 L 646.23 146.11 L 642.56 144.64 Z M 635.22 154.67 L 635.22 148.74 L 638.89 147.28 L 638.89 153.2 Z M 629.11 147.28 L 632.78 148.74 L 632.78 154.67 L 629.11 153.2 Z M 621.77 146.11 L 621.77 140.18 L 625.44 138.72 L 625.44 144.64 Z M 615.65 138.72 L 619.32 140.18 L 619.32 146.11 L 615.65 144.64 Z M 620.55 135.78 L 623.37 136.91 L 620.55 138.04 L 617.72 136.91 Z M 634 144.34 L 636.82 145.47 L 634 146.6 L 631.18 145.47 Z M 647.45 135.78 L 650.28 136.91 L 647.45 138.04 L 644.63 136.91 Z M 654.02 135.77 L 647.91 133.33 C 647.62 133.21 647.29 133.21 647 133.33 L 640.88 135.77 C 640.42 135.96 640.12 136.41 640.12 136.91 L 640.12 144.15 L 634.45 141.89 C 634.16 141.77 633.84 141.77 633.55 141.89 L 627.88 144.15 L 627.88 136.91 C 627.88 136.41 627.58 135.96 627.12 135.77 L 621 133.33 C 620.71 133.21 620.38 133.21 620.09 133.33 L 613.98 135.77 C 613.51 135.96 613.21 136.41 613.21 136.91 L 613.21 145.47 C 613.21 145.97 613.51 146.42 613.98 146.61 L 620.09 149.05 C 620.24 149.11 620.39 149.14 620.55 149.14 C 620.7 149.14 620.86 149.11 621 149.05 L 626.66 146.79 L 626.66 154.03 C 626.66 154.53 626.97 154.98 627.43 155.17 L 633.55 157.61 C 633.69 157.67 633.85 157.7 634 157.7 C 634.15 157.7 634.31 157.67 634.45 157.61 L 640.57 155.17 C 641.03 154.98 641.34 154.53 641.34 154.03 L 641.34 146.79 L 647 149.05 C 647.14 149.11 647.3 149.14 647.45 149.14 C 647.61 149.14 647.76 149.11 647.91 149.05 L 654.02 146.61 C 654.49 146.42 654.79 145.97 654.79 145.47 L 654.79 136.91 C 654.79 136.41 654.49 135.96 654.02 135.77 Z M 664.58 120.93 C 664.58 128.08 648.82 131.94 634 131.94 C 619.18 131.94 603.42 128.08 603.42 120.93 C 603.42 117.52 607.21 114.52 614.08 112.47 L 614.78 114.82 C 609.28 116.45 605.87 118.8 605.87 120.93 C 605.87 124.98 617.42 129.5 634 129.5 C 650.58 129.5 662.13 124.98 662.13 120.93 C 662.13 118.8 658.72 116.45 653.22 114.82 L 653.92 112.47 C 660.79 114.52 664.58 117.52 664.58 120.93 Z M 634 97.86 L 646.49 102.66 L 634 107.47 L 621.51 102.66 Z M 646.94 122.04 C 644.63 123.07 640.76 124.27 635.22 124.44 L 635.22 109.62 L 648.68 104.45 L 648.68 119.36 C 648.68 120.52 648 121.57 646.94 122.04 Z M 619.32 119.36 L 619.32 104.45 L 632.78 109.62 L 632.78 124.44 C 627.24 124.27 623.37 123.07 621.06 122.04 C 620 121.57 619.32 120.52 619.32 119.36 Z M 620.06 124.27 C 622.75 125.48 627.36 126.91 634 126.91 C 640.64 126.91 645.25 125.48 647.93 124.27 C 649.87 123.42 651.12 121.49 651.12 119.36 L 651.12 102.66 C 651.12 102.16 650.81 101.7 650.34 101.52 L 634.44 95.41 C 634.16 95.3 633.84 95.3 633.56 95.41 L 617.66 101.52 C 617.19 101.7 616.88 102.16 616.88 102.66 L 616.88 119.36 C 616.88 121.49 618.13 123.42 620.06 124.27 Z" fill="#ffffff" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 173px; margin-left: 634px;"><div data-drawio-colors="color: #232F3E; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(35, 47, 62); line-height: 1.2; pointer-events: all; white-space: nowrap;">Fargate<div>Service v1.1</div></div></div></div></foreignObject><text x="634" y="185" fill="#232F3E" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Fargate...</text></switch></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-31"><g><path d="M 488 286 L 541.5 286 L 541.5 407 L 588.63 407" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 593.88 407 L 586.88 410.5 L 588.63 407 L 586.88 403.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-35"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 400px; margin-left: 568px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">:8003</div></div></div></foreignObject><text x="568" y="403" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">:8003</text></switch></g></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-32"><g><path d="M 488 247 L 541.5 247 L 541.5 126.5 L 588.63 126.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 593.88 126.5 L 586.88 130 L 588.63 126.5 L 586.88 123 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-33"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 118px; margin-left: 566px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">:8001</div></div></div></foreignObject><text x="566" y="121" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">:8001</text></switch></g></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-37"><g><path d="M 365 30 L 705 30 L 705 510 L 365 510 Z" fill="none" stroke="#8c4fff" stroke-miterlimit="10" pointer-events="none"/><path d="M 365 30 L 365 55 L 390 55 L 390 30 Z M 375.99 34.38 C 377.29 34.36 378.51 34.77 379.32 35.55 C 379.78 36 380.14 36.51 380.42 37.1 C 380.8 36.82 381.29 36.69 381.89 36.72 C 383 36.77 383.85 37.79 384.03 39.22 C 384.97 39.3 385.58 39.77 385.91 40.66 L 385.33 40.88 C 385.06 40.16 384.57 39.83 383.74 39.83 C 383.58 39.83 383.44 39.7 383.43 39.54 C 383.35 38.08 382.55 37.38 381.85 37.34 C 381.26 37.31 380.83 37.48 380.55 37.83 C 380.48 37.93 380.38 37.97 380.26 37.96 C 380.15 37.94 380.05 37.86 380.01 37.75 C 379.76 37.06 379.39 36.49 378.88 35.99 C 377.76 34.91 375.7 34.68 373.86 35.44 C 372.57 35.96 371.74 37.32 371.74 38.88 C 371.74 39.06 371.76 39.32 371.78 39.48 C 371.8 39.64 371.7 39.79 371.55 39.82 C 370.11 40.18 369.37 41.05 369.37 42.4 C 369.37 42.46 369.37 42.53 369.38 42.59 C 369.47 44.15 370.44 45.15 371.87 45.15 L 376.87 45.15 L 376.87 45.77 L 371.87 45.77 C 370.11 45.77 368.86 44.51 368.76 42.64 C 368.75 42.57 368.75 42.48 368.75 42.4 C 368.75 40.83 369.57 39.76 371.14 39.29 C 371.12 39.15 371.12 39 371.12 38.88 C 371.12 37.06 372.1 35.48 373.63 34.86 C 374.4 34.54 375.21 34.38 375.99 34.38 Z M 382.21 39.83 C 382.25 39.83 382.29 39.84 382.33 39.86 L 386.05 41.5 C 386.17 41.55 386.24 41.66 386.24 41.79 L 386.24 46.4 C 386.24 46.47 386.26 48.43 384.99 49.72 C 384.28 50.43 383.33 50.8 382.15 50.8 C 380.97 50.8 380.02 50.43 379.33 49.72 C 378.08 48.43 378.12 46.47 378.12 46.39 L 378.12 41.73 C 378.12 41.61 378.19 41.49 378.31 41.45 L 382.08 39.86 C 382.12 39.84 382.16 39.83 382.21 39.83 Z M 382.2 40.49 L 378.74 41.94 L 378.74 46.4 C 378.74 46.42 378.71 48.19 379.78 49.29 C 380.35 49.87 381.15 50.17 382.15 50.17 C 383.15 50.17 383.96 49.87 384.54 49.28 C 385.62 48.18 385.61 46.42 385.61 46.4 L 385.61 41.99 Z M 382.2 41.57 C 382.25 41.57 382.29 41.58 382.33 41.59 L 384.79 42.65 C 384.91 42.7 384.98 42.81 384.98 42.94 L 384.98 47.02 C 384.87 47.93 384.13 49.56 382.15 49.56 C 380.23 49.56 379.49 47.93 379.37 47.06 L 379.37 42.94 C 379.37 42.81 379.45 42.7 379.56 42.65 L 382.08 41.59 C 382.12 41.58 382.16 41.57 382.2 41.57 Z M 381.89 42.35 L 379.99 43.15 L 379.99 47.02 C 380 47.05 380.27 48.75 381.89 48.92 Z M 382.52 42.35 L 382.52 48.91 C 384.11 48.69 384.35 47.05 384.36 46.98 L 384.36 43.14 Z" fill="#8c4fff" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 308px; height: 1px; padding-top: 37px; margin-left: 397px;"><div data-drawio-colors="color: #AAB7B8; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(170, 183, 184); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">VPC</div></div></div></foreignObject><text x="397" y="49" fill="#AAB7B8" font-family="&quot;Helvetica&quot;" font-size="12px">VPC</text></switch></g></g></g><g data-cell-id="4K5bZuvCH6rgP7y_3ihN-38"><g><path d="M 194 0 L 715 0 L 715 520 L 194 520 Z" fill="none" stroke="#232f3e" stroke-miterlimit="10" pointer-events="none"/><path d="M 200.09 7.18 C 200.01 7.18 199.93 7.19 199.85 7.19 C 199.5 7.19 199.15 7.23 198.81 7.32 C 198.53 7.39 198.25 7.49 197.98 7.62 C 197.9 7.65 197.84 7.7 197.79 7.76 C 197.75 7.83 197.74 7.91 197.74 7.99 L 197.74 8.32 C 197.74 8.46 197.78 8.53 197.88 8.53 L 197.99 8.53 L 198.22 8.44 C 198.45 8.35 198.69 8.27 198.94 8.21 C 199.17 8.16 199.41 8.13 199.65 8.13 C 200.04 8.09 200.43 8.2 200.74 8.44 C 200.97 8.74 201.09 9.12 201.05 9.5 L 201.05 9.99 C 200.78 9.93 200.54 9.88 200.29 9.84 C 200.05 9.81 199.81 9.79 199.57 9.79 C 198.98 9.76 198.4 9.94 197.94 10.31 C 197.54 10.65 197.32 11.15 197.34 11.68 C 197.31 12.15 197.49 12.62 197.82 12.96 C 198.18 13.29 198.66 13.46 199.15 13.44 C 199.91 13.45 200.63 13.11 201.11 12.51 C 201.18 12.66 201.24 12.79 201.31 12.91 C 201.38 13.02 201.46 13.12 201.55 13.21 C 201.6 13.27 201.67 13.31 201.75 13.31 C 201.81 13.31 201.87 13.29 201.92 13.25 L 202.34 12.97 C 202.41 12.93 202.46 12.86 202.47 12.77 C 202.47 12.72 202.45 12.67 202.42 12.62 C 202.34 12.47 202.26 12.31 202.21 12.14 C 202.15 11.95 202.12 11.75 202.13 11.55 L 202.14 9.37 C 202.2 8.77 202 8.18 201.59 7.74 C 201.17 7.39 200.64 7.19 200.09 7.18 Z M 213.89 7.19 C 213.78 7.19 213.68 7.19 213.57 7.2 C 213.29 7.2 213 7.24 212.73 7.31 C 212.47 7.38 212.23 7.5 212.01 7.66 C 211.82 7.81 211.66 7.99 211.54 8.21 C 211.42 8.43 211.35 8.67 211.36 8.92 C 211.36 9.27 211.48 9.61 211.69 9.89 C 211.97 10.22 212.34 10.46 212.76 10.56 L 213.72 10.87 C 213.97 10.93 214.2 11.05 214.39 11.22 C 214.51 11.35 214.58 11.51 214.57 11.69 C 214.58 11.94 214.45 12.18 214.23 12.31 C 213.93 12.48 213.6 12.56 213.26 12.54 C 212.99 12.54 212.72 12.51 212.46 12.45 C 212.22 12.4 211.98 12.32 211.75 12.22 L 211.59 12.15 C 211.54 12.14 211.5 12.14 211.46 12.15 C 211.36 12.15 211.31 12.22 211.31 12.36 L 211.31 12.69 C 211.31 12.76 211.32 12.82 211.35 12.89 C 211.4 12.97 211.47 13.03 211.56 13.07 C 211.8 13.19 212.06 13.28 212.32 13.34 C 212.66 13.41 213 13.45 213.35 13.45 L 213.33 13.46 C 213.66 13.45 213.98 13.4 214.29 13.3 C 214.55 13.22 214.8 13.09 215.01 12.92 C 215.21 12.77 215.38 12.57 215.49 12.34 C 215.61 12.1 215.67 11.83 215.66 11.56 C 215.67 11.23 215.56 10.9 215.36 10.63 C 215.09 10.32 214.73 10.09 214.33 9.99 L 213.39 9.69 C 213.13 9.61 212.88 9.49 212.67 9.32 C 212.54 9.2 212.47 9.03 212.47 8.85 C 212.46 8.61 212.58 8.38 212.79 8.25 C 213.06 8.11 213.36 8.05 213.67 8.06 C 214.11 8.06 214.55 8.14 214.96 8.32 C 215.04 8.37 215.12 8.4 215.21 8.41 C 215.31 8.41 215.36 8.34 215.36 8.19 L 215.36 7.88 C 215.37 7.8 215.35 7.72 215.31 7.66 C 215.25 7.59 215.18 7.54 215.11 7.49 L 214.83 7.38 L 214.45 7.27 L 214.01 7.2 C 213.97 7.2 213.93 7.19 213.89 7.19 Z M 210.02 7.36 C 209.94 7.35 209.86 7.38 209.79 7.42 C 209.72 7.5 209.68 7.59 209.66 7.69 L 208.51 12.14 L 207.47 7.71 C 207.45 7.61 207.41 7.52 207.34 7.44 C 207.26 7.39 207.17 7.37 207.07 7.38 L 206.54 7.38 C 206.44 7.37 206.35 7.39 206.27 7.44 C 206.2 7.51 206.15 7.61 206.14 7.71 L 205.09 12.14 L 203.97 7.7 C 203.95 7.6 203.91 7.51 203.84 7.44 C 203.76 7.39 203.67 7.36 203.58 7.37 L 202.92 7.37 C 202.81 7.37 202.76 7.43 202.76 7.54 C 202.77 7.63 202.79 7.72 202.82 7.81 L 204.38 12.95 C 204.4 13.05 204.45 13.14 204.52 13.21 C 204.6 13.26 204.69 13.29 204.78 13.28 L 205.36 13.26 C 205.46 13.27 205.55 13.25 205.63 13.19 C 205.7 13.12 205.74 13.03 205.76 12.93 L 206.79 8.64 L 207.82 12.93 C 207.83 13.03 207.88 13.12 207.95 13.19 C 208.03 13.25 208.12 13.27 208.21 13.26 L 208.78 13.26 C 208.88 13.27 208.97 13.25 209.04 13.2 C 209.11 13.13 209.16 13.03 209.18 12.94 L 210.79 7.79 C 210.84 7.72 210.84 7.63 210.84 7.63 C 210.84 7.59 210.84 7.56 210.84 7.52 C 210.84 7.48 210.82 7.43 210.79 7.4 C 210.76 7.37 210.72 7.35 210.67 7.36 L 210.05 7.36 C 210.04 7.36 210.03 7.36 210.02 7.36 Z M 199.65 10.62 C 199.7 10.62 199.75 10.62 199.8 10.62 L 200.43 10.62 C 200.64 10.64 200.85 10.67 201.06 10.71 L 201.06 11.01 C 201.07 11.21 201.05 11.4 201 11.59 C 200.96 11.75 200.88 11.9 200.77 12.01 C 200.61 12.21 200.39 12.36 200.14 12.44 C 199.91 12.52 199.67 12.56 199.43 12.56 C 199.18 12.6 198.93 12.53 198.73 12.37 C 198.55 12.18 198.46 11.92 198.49 11.66 C 198.47 11.36 198.59 11.08 198.81 10.89 C 199.06 10.72 199.35 10.62 199.65 10.62 Z M 215.04 14.72 C 214.34 14.73 213.51 14.89 212.88 15.33 C 212.69 15.46 212.72 15.63 212.94 15.63 C 213.64 15.54 215.21 15.35 215.5 15.71 C 215.78 16.06 215.19 17.54 214.94 18.21 C 214.86 18.41 215.03 18.49 215.21 18.34 C 216.39 17.36 216.72 15.3 216.46 15 C 216.32 14.85 215.74 14.71 215.04 14.72 Z M 196.65 15.1 C 196.5 15.12 196.42 15.3 196.58 15.44 C 199.29 17.89 202.82 19.23 206.48 19.21 C 209.37 19.22 212.2 18.36 214.59 16.74 C 214.95 16.47 214.63 16.07 214.26 16.23 C 211.87 17.24 209.3 17.76 206.71 17.77 C 203.23 17.78 199.82 16.87 196.81 15.14 C 196.75 15.11 196.69 15.1 196.65 15.1 Z M 194 0 L 219 0 L 219 25 L 194 25 Z" fill="#232f3e" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 489px; height: 1px; padding-top: 7px; margin-left: 226px;"><div data-drawio-colors="color: #232F3E; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(35, 47, 62); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">AWS Cloud</div></div></div></foreignObject><text x="226" y="19" fill="#232F3E" font-family="&quot;Helvetica&quot;" font-size="12px">AWS Cloud</text></switch></g></g></g></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>
@diagram.svg
```

</details>

### How to use

To deploy a new version of the API, you need to execute `package.py` with arguments that you usually pass to
`aws cloudformation deploy` command. For example:

```bash
eval $(python3 package.py \
  --template-file ./ \
  --stack-name demo-server \
  --capabilities CAPABILITY_NAMED_IAM \
  --parameter-overrides \
      Name=demo-server \
      Vpc=vpc-9e91fde5 \
      PrivateSubnets=subnet-b1610ef0,subnet-167b41e1 \
      DomainName=semver-api.demo.io \
      HostedZoneId=Z04603IAE131KSA10C8Q \
      CertificateArn=arn:aws:acm:us-east-1:1234567890:certificate/f4c0b85e-41d3-4627-bcb8-060a1137b543 \
      Image=http-hello-world \
      Memory=1024 \
      Cpu=512 \
      DesiredCount=1 \
      HealthCheckPath=/health \
      ContainerPort=8080 \
  --version 1.2.345 \
  --no-update-latest \
  --profile demo)
```

Execution of the command above will print commands that you need to execute to create/update three CloudFormation
stacks:

1. `demo-server-api` - Shared resources for all versions of the API. It includes ECS, Network Load Balancer and API Gateway.
2. `demo-server-api-v1-2` - Resources for the specific version of the API. It includes ECS Service and Task Definition and API Gateway stage for the version.
3. `demo-server-api-v1` - Create/Update alias for the major version of the API to the specific version. It is optional.
4. `demo-server-api-latest` - Create/Update alias for the latest version of the API to the specific version. It is optional.

After evaluating the commands and deploying the stacks, you can access the API at:

- `https://semver-api.demo.io/v1.2/`
- `https://semver-api.demo.io/v1/` (if you deploy the alias)
- `https://semver-api.demo.io/latest/` (if you deploy the alias)

Script has additional options:

- `--version` - Version of the API. It is required. It should be in the format `major.minor.patch`.
- `--no-update-major` - Do not update alias for the major version of the API to the specific version.
- `--no-update-latest` - Do not update alias for the latest version of the API to the specific version.

#### Parameters

- `Name` - Name used as a prefix for all resources.
- `Vpc` - ID of the VPC where the API will be deployed.
- `PrivateSubnets` - Comma-separated list of private subnets where the API will be deployed.
- `DomainName` - Domain name of the API.
- `HostedZoneId` - ID of the Route 53 hosted zone where the domain name is registered.
- `CertificateArn` - ARN of the ACM certificate for the domain name.
- `Image` - Docker image to deploy.
- `Memory` - Memory limit for the container.
- `Cpu` - CPU limit for the container.
- `DesiredCount` - Desired number of running ECS tasks.
- `HealthCheckPath` - Path for the health check. It should return 200 OK. Optional. Default is `/health`.
- `ContainerPort` - Port on which the container listens to. Optional. Default is 80.
